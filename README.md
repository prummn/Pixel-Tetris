# Tetris1.0 - 俄罗斯方块游戏

## 代码简介

### 项目信息
- **项目名称**: Tetris1.0  
- **开发语言**: Java  
- **构建工具**: Maven  

### 项目结构
src/main/java/com/bit/ui/<br>
├── DatabaseManager.java # 数据库管理<br>
├── GameLauncher.java # 主入口<br>
├── GamePanel.java # 游戏逻辑与绘制<br>
├── MusicManager.java # 音效控制<br>
├── Shape.java # 方块模型<br>
├── StartMenu.java # 主菜单界面<br>
└── Tetris.java # 游戏主界面与侧边面板<br>

resources/<br>
├── images/ # 图标资源<br>
├── music/ # 音频文件<br>
└── PressStart2P.ttf # 像素字体<br>


### 关键类说明
- **Tetris.java**：绘制了主要游戏界面，主要功能包括更新游戏信息显示。  
- **GamePanel.java**：实现游戏逻辑，包括图形的下落、碰撞、消除以及道具的获得与使用等逻辑。  
- **StartMenu.java**：绘制开始菜单，同时实现了历史记录和关于作者界面的绘制，为游戏开始提供了接口。  
- **Shape.java**：定义方块信息，便于方块的生成、绘制等操作。  

### 代码量
≈1500行  

---

## 自测运行环境
- **操作系统**: Windows11  
- **编程语言版本**: Java23  
- **自定义的其他环境变量**: 无  

---

## 操作说明

### 开启游戏
- **源代码**：最好将整个项目在IDEA中打开，运行 `GameLauncher` 类即进入 `StartMenu`。  
- **可执行程序**：双击exe文件，等待安装完成后在桌面出现快捷方式，双击快捷方式即可。  

### 开始菜单
- 三个按钮依次是 **进入游戏**、**历史记录**、**关于作者**。  
- 退出游戏按右上角叉号。  

### 历史记录
- 在此可以查看历史前五高（本地）的游戏分数记录。  
- 下方两个按钮：  
  - **CLR**：清除记录  
  - **BACK**：回到菜单  

### 关于作者
- 查看作者信息，**BACK** 按钮可返回菜单。  

### 游戏操作
- **正常操作**：  
  - **↑**：控制方块旋转  
  - **←**：控制方块向左移动  
  - **→**：控制方块向右移动  
  - **↓**：控制方块向下移动  
  - **ENTER**：使当前方块直接落到当前轨道的最底部并固定  
- **道具操作**（需持有道具）：  
  - **数字键1**：暂停游戏并使用道具一  
  - **数字键2**：使用道具二  
  - **数字键3**：暂停游戏并使用道具三  

#### 道具一使用过程
1. 使用后游戏暂停，界面中出现一个红框。  
2. 通过 **↑↓←→** 移动红框框定一个 3×3 的范围。  
3. **ENTER** 确定后，选定区域方块被消除（不加分，区域以上方块不下落）。  
4. 游戏自动继续。  

#### 道具二使用过程
- 使用后直接消除当前最底行（不加分，倒数第二行及以上的所有方块统一下落一行）。  

#### 道具三使用过程
1. 使用后游戏暂停，界面中出现预览框，显示希望当前下落方块变成的形状。  
2. 通过 **←→** 选择形状。  
3. **ENTER** 确定后，选定的形状重新从最顶端下落，游戏自动继续。  

### 游戏结束
- 最顶部方块越界后游戏自动结束，弹出提示框，可选择 **重新游戏** 或 **回到菜单**。  

---

## 其他说明

### 分数机制
- 每消除一行获得 `100 × level` 的分数。  
- 游戏结束时根据坚持的游戏时长给予一些 Bonus。  

### 道具机制
- 每获得 1000 分随机获得一个道具。  
- 使用道具破坏方块不得分。  
- 合理使用道具一、三可以获得暂停思考时间。  

### 速度等级机制
- 初始等级：1  
- 最高等级：6（才不是什么致敬）  
- 每获得 1000 分提升一个等级，5000 分到达等级6。  

### 背景音乐（全部为AI生成音乐）
- 开始菜单：第一种 BGM  
- 正式游戏（前五个 level）：第二个 BGM  
- 升至 level6 后：第三个 BGM  
- 游戏结束后：第四个 BGM  

---

## 碎碎念
作者目前大二下，于大二寒假开始自学 Java，正好遇到了十行代码比赛，于是决定抓住这个检验&锻炼的机会。  

俄罗斯方块是一款非常经典的游戏（但说实话我并没有认真玩过，开始动手写之前甚至没有去下载几个版本调查，意识到这个问题时已经写了大半于是作罢），但是再简单的游戏当一个小白真正动手开始去写时才会认识到问题的复杂性。  

在这个项目中最让我头疼的是多线程和定时器管理，这实在是我第一次遇到的这种问题，尽管有 AI 帮忙，调试整个游戏还是费了我很大的劲。  

其次是字体、图片、音乐等资源的加载和整个游戏的打包过程。这看似是最没有技术含量的部分，但却也是我相当不熟悉的一个部分。在我开始自学 Maven 发现各种资源莫名其妙无法正常加载，以及用 jpackage 打包成 exe 文件后无法正常安装时，实在是有一种功亏一篑的感觉。  

总而言之这款中规中矩的小游戏也可以称得上是我的处女作了，花费了我的许多心血，也还有很多不足。希望你们玩的开心！  

---

**Info**  
张昊斌  
13835597724  
